trigger:
- main

pool:
  vmImage: ubuntu-latest

steps:
- script: |
    echo 'FROM python:3.9-slim' >> Dockerfile
    echo 'COPY . /app' >> Dockerfile
    echo 'WORKDIR /app' >> Dockerfile
    echo 'RUN python main.py' >> Dockerfile
  displayName: 'Create Docker File'

- script: docker build -t multitabledary .
  displayName: 'Build Docker Image'

- script: docker tag multitabledary winterzone2/multiplicationtable:v1
  displayName: 'Tag Docker Image'

- script: docker push winterzone2/multiplicationtable:v1
  displayName: 'Push Docker Image'